<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8"><title>Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo&display=swap" rel="stylesheet">
</head>
<body class="bg-gray-50 font-['Cairo'] p-8 text-right">
    <div class="max-w-5xl mx-auto">
        <div class="flex justify-between items-center mb-8"><h1 class="text-3xl font-bold">ğŸ’° Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ù…ÙˆØ§Ù„</h1><a href="pos.html" class="bg-slate-800 text-white px-6 py-2 rounded-xl">Ø±Ø¬ÙˆØ¹</a></div>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-10">
            <div class="bg-white p-6 rounded-2xl shadow-sm border-r-8 border-green-500 text-center"><p>Cash</p><p id="cash" class="text-2xl font-black">0</p></div>
            <div class="bg-white p-6 rounded-2xl shadow-sm border-r-8 border-orange-500 text-center"><p>Wish</p><p id="wish" class="text-2xl font-black">0</p></div>
            <div class="bg-white p-6 rounded-2xl shadow-sm border-r-8 border-blue-500 text-center"><p>Plus</p><p id="plus" class="text-2xl font-black">0</p></div>
            <div class="bg-white p-6 rounded-2xl shadow-sm border-r-8 border-red-500 text-center"><p>Mobitek</p><p id="mobi" class="text-2xl font-black">0</p></div>
        </div>
        <div class="bg-white p-8 rounded-2xl shadow-sm">
            <h2 class="font-bold mb-4 italic text-blue-800">Ø¹Ù…Ù„ÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ (Ø²ÙŠØ§Ø¯Ø©ØŒ Ø§Ù†Ù‚Ø§ØµØŒ ØªØ­ÙˆÙŠÙ„):</h2>
            <div class="flex flex-wrap gap-4">
                <select id="op" class="p-3 border rounded-xl" onchange="toggleDest()">
                    <option value="dep">Ø²ÙŠØ§Ø¯Ø© (+) </option><option value="with">Ø§Ù†Ù‚Ø§Øµ (-) </option><option value="trans">ØªØ­ÙˆÙŠÙ„ Ù…Ù† (->)</option>
                </select>
                <select id="src" class="p-3 border rounded-xl">
                    <option value="cash">Cash</option><option value="wish">Wish</option><option value="plus">Plus</option><option value="mobi">Mobitek</option>
                </select>
                <select id="dest" class="p-3 border border-blue-400 bg-blue-50 rounded-xl hidden">
                    <option value="cash">Ø¥Ù„Ù‰ Cash</option><option value="wish">Ø¥Ù„Ù‰ Wish</option><option value="plus">Ø¥Ù„Ù‰ Plus</option><option value="mobi">Ø¥Ù„Ù‰ Mobitek</option>
                </select>
                <input id="amt" type="number" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº" class="p-3 border rounded-xl w-32 font-bold">
                <button onclick="proc()" class="bg-blue-600 text-white px-8 rounded-xl font-bold">ØªÙ†ÙÙŠØ°</button>
            </div>
        </div>
    </div>
    <script src="auth.js"></script>
    <script>
        checkAuth();
        let f = JSON.parse(localStorage.getItem('funds')) || {cash:0, wish:0, plus:0, mobi:0};
        function toggleDest() { document.getElementById('dest').classList.toggle('hidden', document.getElementById('op').value !== 'trans'); }
        function show() { document.getElementById('cash').innerText = f.cash.toFixed(2); document.getElementById('wish').innerText = f.wish.toFixed(2); document.getElementById('plus').innerText = f.plus.toFixed(2); document.getElementById('mobi').innerText = f.mobi.toFixed(2); }
        function proc() {
            const op = document.getElementById('op').value;
            const src = document.getElementById('src').value;
            const dest = document.getElementById('dest').value;
            const a = parseFloat(document.getElementById('amt').value) || 0;
            if(op === 'dep') f[src] += a;
            if(op === 'with') f[src] -= a;
            if(op === 'trans') { f[src] -= a; f[dest] += a; }
            localStorage.setItem('funds', JSON.stringify(f));
            show(); alert("ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙ†Ø§Ø¯ÙŠÙ‚");
        }
        show();
    </script>
</body>
</html>
