<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ุงููุฎุฒู - ุฅุถุงูุฉ ุงูุจุถุงุนุฉ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>body { font-family: 'Cairo', sans-serif; }</style>
</head>
<body class="bg-gray-100 min-h-screen">

    <header class="bg-gray-800 text-white p-4 shadow-md flex justify-between">
        <h1 class="text-xl font-bold">๐ฆ ุฅุฏุงุฑุฉ ุงููุฎุฒู ูุงูุจุถุงุนุฉ</h1>
        <a href="pos.html" class="bg-blue-600 px-4 py-1 rounded text-sm hover:bg-blue-700">ุงูุนูุฏุฉ ููุจูุน ๐</a>
    </header>

    <main class="p-6 max-w-6xl mx-auto">
        <div class="bg-white p-6 rounded-xl shadow-lg mb-8 border-t-4 border-blue-600">
            <h2 class="text-lg font-bold mb-4">ุฅุถุงูุฉ ูุทุนุฉ ุฌุฏูุฏุฉ ูููุญู</h2>
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                <input id="inv-barcode" type="text" placeholder="ุงูุจุงุฑููุฏ (Barcode)" class="p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                <input id="inv-name" type="text" placeholder="ุงุณู ุงููุทุนุฉ" class="p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none">
                <input id="inv-vendor" type="text" placeholder="ุงูููุฑุฏ (Supplier)" class="p-2 border rounded">
                <input id="inv-qty" type="number" placeholder="ุงููููุฉ" class="p-2 border rounded">
                <input id="inv-cost" type="number" placeholder="ุณุนุฑ ุงูุดุฑุงุก ($)" class="p-2 border rounded">
                <input id="inv-retail" type="number" placeholder="ุณุนุฑ ุงููุจูุน ููุฑู" class="p-2 border rounded text-green-600 font-bold">
                <input id="inv-wholesale" type="number" placeholder="ุณุนุฑ ุงููุจูุน ุฌููุฉ" class="p-2 border rounded text-blue-600 font-bold">
                <button onclick="saveToInventory()" class="bg-blue-600 text-white font-bold rounded hover:bg-blue-700">ุญูุธ ุงููุทุนุฉ</button>
            </div>
        </div>

        <div class="bg-white rounded-xl shadow-lg overflow-hidden border">
            <table class="w-full text-right">
                <thead class="bg-gray-200">
                    <tr>
                        <th class="p-3 text-sm">ุงูุจุงุฑููุฏ</th>
                        <th class="p-3 text-sm">ุงููุทุนุฉ</th>
                        <th class="p-3 text-sm">ุงูููุฑุฏ</th>
                        <th class="p-3 text-sm">ุงููููุฉ</th>
                        <th class="p-3 text-sm">ุดุฑุงุก</th>
                        <th class="p-3 text-sm">ููุฑู</th>
                        <th class="p-3 text-sm">ุฌููุฉ</th>
                        <th class="p-3 text-sm">ุญุฐู</th>
                    </tr>
                </thead>
                <tbody id="inventory-list">
                    </tbody>
            </table>
        </div>
    </main>

    <script src="auth.js"></script>
    <script>
        checkAuth(); // ุงูุชุฃูุฏ ุฃู ุงููุณุชุฎุฏู Admin

        let inventory = JSON.parse(localStorage.getItem('inventory')) || [];

        function saveToInventory() {
            const item = {
                barcode: document.getElementById('inv-barcode').value,
                name: document.getElementById('inv-name').value,
                vendor: document.getElementById('inv-vendor').value,
                qty: parseInt(document.getElementById('inv-qty').value) || 0,
                cost: parseFloat(document.getElementById('inv-cost').value) || 0,
                retail: parseFloat(document.getElementById('inv-retail').value) || 0,
                wholesale: parseFloat(document.getElementById('inv-wholesale').value) || 0
            };

            if (!item.barcode || !item.name) return alert("ูุฑุฌู ุฅููุงู ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ!");

            inventory.push(item);
            localStorage.setItem('inventory', JSON.stringify(inventory));
            renderInventory();
            clearInputs();
        }
                function renderInventory() {
            const tbody = document.getElementById('inventory-list');
            tbody.innerHTML = inventory.map((item, index) => 
                <tr class="border-b hover:bg-gray-50">
                    <td class="p-3 font-mono">${item.barcode}</td>
                    <td class="p-3 font-bold">${item.name}</td>
                    <td class="p-3">${item.vendor}</td>
                    <td class="p-3">${item.qty}</td>
                    <td class="p-3">${item.cost}</td>
                    <td class="p-3 text-green-600">${item.retail}</td>
                    <td class="p-3 text-blue-600">${item.wholesale}</td>
                    <td class="p-3"><button onclick="deleteItem(${index})" class="text-red-500">ุญุฐู</button></td>
                </tr>
            ).join('');
        }

        function deleteItem(index) {
            if(confirm("ุญุฐู ูุฐู ุงููุทุนุฉุ")) {
                inventory.splice(index, 1);
                localStorage.setItem('inventory', JSON.stringify(inventory));
                renderInventory();
            }
        }

        function clearInputs() {
            document.querySelectorAll('input').forEach(i => i.value = "");
            document.getElementById('inv-barcode').focus();
        }

        renderInventory();
    </script>
</body>
</html>
