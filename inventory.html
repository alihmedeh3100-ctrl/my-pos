
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø²Ù†</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>body { font-family: 'Cairo', sans-serif; background-color: #f3f4f6; }</style>
</head>
<body class="p-6">
    <div class="max-w-6xl mx-auto">
        <div class="flex justify-between items-center mb-6 bg-white p-4 rounded-xl shadow-sm">
            <h1 class="text-2xl font-bold text-gray-800">ğŸ“¦ Ø¥Ø¶Ø§ÙØ© Ø¨Ø¶Ø§Ø¹Ø© Ø¬Ø¯ÙŠØ¯Ø©</h1>
            <a href="pos.html" class="bg-gray-800 text-white px-5 py-2 rounded-lg font-bold">Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø¨ÙŠØ¹ ğŸ›’</a>
        </div>

        <div class="bg-white p-6 rounded-2xl shadow-md mb-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                <input id="inv-barcode" type="text" placeholder="Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯" class="p-3 border rounded-xl outline-none focus:ring-2 focus:ring-blue-400">
                <input id="inv-name" type="text" placeholder="Ø§Ø³Ù… Ø§Ù„Ù‚Ø·Ø¹Ø©" class="p-3 border rounded-xl outline-none focus:ring-2 focus:ring-blue-400">
                <input id="inv-qty" type="number" placeholder="Ø§Ù„ÙƒÙ…ÙŠØ©" class="p-3 border rounded-xl outline-none focus:ring-2 focus:ring-blue-400">
                <input id="inv-cost" type="number" step="0.01" placeholder="Ø³Ø¹Ø± Ø§Ù„Ø´Ø±Ø§Ø¡ $" class="p-3 border rounded-xl outline-none">
                <input id="inv-retail" type="number" step="0.01" placeholder="Ø³Ø¹Ø± Ù…ÙØ±Ù‚ $" class="p-3 border rounded-xl font-bold text-green-600">
                <input id="inv-wholesale" type="number" step="0.01" placeholder="Ø³Ø¹Ø± Ø¬Ù…Ù„Ø© $" class="p-3 border rounded-xl font-bold text-blue-600">
                <button onclick="saveToInventory()" class="md:col-span-2 bg-blue-600 text-white font-bold py-3 rounded-xl shadow-lg hover:bg-blue-700 transition">Ø­ÙØ¸ Ø§Ù„Ù‚Ø·Ø¹Ø© ÙÙŠ Ø§Ù„Ù…Ø®Ø²Ù† âœ…</button>
            </div>
        </div>

        <div class="bg-white rounded-2xl shadow-md overflow-hidden">
            <table class="w-full text-right">
                <thead class="bg-gray-50 border-b">
                    <tr>
                        <th class="p-4">Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯</th>
                        <th class="p-4">Ø§Ø³Ù… Ø§Ù„Ù‚Ø·Ø¹Ø©</th>
                        <th class="p-4">Ø§Ù„ÙƒÙ…ÙŠØ©</th>
                        <th class="p-4">Ø³Ø¹Ø± Ø§Ù„Ù…ÙØ±Ù‚</th>
                        <th class="p-4 text-center">Ø®ÙŠØ§Ø±Ø§Øª</th>
                    </tr>
                </thead>
                <tbody id="inventory-list" class="divide-y"></tbody>
            </table>
        </div>
    </div>

    <script src="auth.js"></script>
    <script>
        checkAuth();
        let inventory = JSON.parse(localStorage.getItem('inventory')) || [];

        function saveToInventory() {
            const barcode = document.getElementById('inv-barcode').value.trim();
            const name = document.getElementById('inv-name').value.trim();
            const qty = parseInt(document.getElementById('inv-qty').value) || 0;
            const cost = parseFloat(document.getElementById('inv-cost').value) || 0;
            const retail = parseFloat(document.getElementById('inv-retail').value) || 0;
            const wholesale = parseFloat(document.getElementById('inv-wholesale').value) || 0;

            if (!barcode || !name) return alert("Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯ ÙˆØ§Ù„Ø§Ø³Ù…!");

            inventory.push({ barcode, name, qty, cost, retail, wholesale });
            localStorage.setItem('inventory', JSON.stringify(inventory));
            
            alert("âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù‚Ø·Ø¹Ø© Ø¨Ù†Ø¬Ø§Ø­");
            renderInventory();
            document.querySelectorAll('input').forEach(i => i.value = '');
        }

        function renderInventory() {
            document.getElementById('inventory-list').innerHTML = inventory.map((item, index) => `
            <tr class="hover:bg-gray-50">
                    <td class="p-4 font-mono">${item.barcode}</td>
                    <td class="p-4 font-bold">${item.name}</td>
                    <td class="p-4 text-blue-600 font-bold">${item.qty}</td>
                    <td class="p-4 text-green-700 font-bold">${item.retail} $</td>
                    <td class="p-4 text-center">
                        <button onclick="deleteItem(${index})" class="text-red-500 font-bold">Ø­Ø°Ù</button>
                    </td>
                </tr>
            `).join('');
        }

        function deleteItem(index) {
            if(confirm("Ø­Ø°Ù Ø§Ù„Ù‚Ø·Ø¹Ø©ØŸ")) {
                inventory.splice(index, 1);
                localStorage.setItem('inventory', JSON.stringify(inventory));
                renderInventory();
            }
        }
        renderInventory();
    </script>
</body>
</html>
