<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8"><title>ุงููุฎุฒู</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo&display=swap" rel="stylesheet">
</head>
<body class="bg-gray-100 font-['Cairo'] p-8">
    <div class="max-w-6xl mx-auto bg-white p-8 rounded-2xl shadow">
        <div class="flex justify-between mb-8"><h1 class="text-2xl font-bold">๐ฆ ุฅุฏุฎุงู ุจุถุงุนุฉ ุฌุฏูุฏุฉ</h1><a href="pos.html" class="bg-slate-800 text-white px-5 py-2 rounded-xl">ุฑุฌูุน ููุจูุน</a></div>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
            <input id="b" placeholder="ุงูุจุงุฑููุฏ" class="p-3 border rounded-xl">
            <input id="n" placeholder="ุงุณู ุงููุทุนุฉ" class="p-3 border rounded-xl">
            <input id="v" placeholder="ุงูููุฑุฏ" class="p-3 border rounded-xl">
            <input id="q" type="number" placeholder="ุงููููุฉ" class="p-3 border rounded-xl">
            <input id="c" type="number" placeholder="ุณุนุฑ ุงูุดุฑุงุก" class="p-3 border rounded-xl">
            <input id="r" type="number" placeholder="ุณุนุฑ ูุจูุน ููุฑู" class="p-3 border rounded-xl">
            <input id="w" type="number" placeholder="ุณุนุฑ ูุจูุน ุฌููุฉ" class="p-3 border rounded-xl text-blue-600">
            <button onclick="save()" class="bg-blue-600 text-white font-bold rounded-xl">ุญูุธ ูู ุงููุฎุฒู โ</button>
        </div>
        <table class="w-full text-right border-collapse">
            <thead class="bg-slate-50 border-b"><tr><th class="p-3">ุงูุจุงุฑููุฏ</th><th class="p-3">ุงุณู ุงููุทุนุฉ</th><th class="p-3">ุงูููุฑุฏ</th><th class="p-3">ุงููููุฉ</th><th class="p-3">ูุจูุน</th><th class="p-3">ุญุฐู</th></tr></thead>
            <tbody id="list"></tbody>
        </table>
    </div>
    <script src="auth.js"></script>
    <script>
        checkAuth();
        let inv = JSON.parse(localStorage.getItem('inventory')) || [];
        function save() {
            const p = { barcode: document.getElementById('b').value, name: document.getElementById('n').value, vendor: document.getElementById('v').value, qty: parseInt(document.getElementById('q').value), cost: parseFloat(document.getElementById('c').value), retail: parseFloat(document.getElementById('r').value), wholesale: parseFloat(document.getElementById('w').value) };
            if(!p.barcode || !p.name) return alert("ุฃููู ุงูุจูุงูุงุช!");
            inv.push(p); localStorage.setItem('inventory', JSON.stringify(inv));
            alert("ุชู ุงูุญูุธ!"); render();
            document.querySelectorAll('input').forEach(i => i.value = '');
        }
        function render() {
            document.getElementById('list').innerHTML = inv.map((p, i) => <tr class="border-b"><td class="p-3 font-mono">${p.barcode}</td><td class="p-3 font-bold">${p.name}</td><td class="p-3 text-blue-600">${p.qty}</td><td class="p-3 font-bold">${p.retail} $</td><td class="p-3"><button onclick="del(${i})" class="text-red-500">ุญุฐู</button></td></tr>).join('');
        }
        function del(i) { inv.splice(i, 1); localStorage.setItem('inventory', JSON.stringify(inv)); render(); }
        render();
    </script>
</body>
</html>
