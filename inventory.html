<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ø§Ù„Ù…Ø®Ø²Ù† - Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¨Ø¶Ø§Ø¹Ø©</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>body { font-family: 'Cairo', sans-serif; }</style>
</head>
<body class="bg-gray-100 p-6">
    <div class="max-w-6xl mx-auto">
        <div class="flex justify-between items-center mb-6">
            <h1 class="text-2xl font-bold">ğŸ“¦ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø²Ù†</h1>
            <a href="pos.html" class="bg-blue-600 text-white px-4 py-2 rounded">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø¨ÙŠØ¹ ğŸ›’</a>
        </div>

        <div class="bg-white p-6 rounded-xl shadow mb-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                <input id="inv-barcode" type="text" placeholder="Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯" class="p-2 border rounded">
                <input id="inv-name" type="text" placeholder="Ø§Ø³Ù… Ø§Ù„Ù‚Ø·Ø¹Ø©" class="p-2 border rounded">
                <input id="inv-vendor" type="text" placeholder="Ø§Ù„Ù…ÙˆØ±Ø¯" class="p-2 border rounded">
                <input id="inv-qty" type="number" placeholder="Ø§Ù„ÙƒÙ…ÙŠØ©" class="p-2 border rounded">
                <input id="inv-cost" type="number" placeholder="Ø³Ø¹Ø± Ø§Ù„Ø´Ø±Ø§Ø¡" class="p-2 border rounded">
                <input id="inv-retail" type="number" placeholder="Ø³Ø¹Ø± Ù…ÙØ±Ù‚" class="p-2 border rounded">
                <input id="inv-wholesale" type="number" placeholder="Ø³Ø¹Ø± Ø¬Ù…Ù„Ø©" class="p-2 border rounded">
                <button onclick="saveToInventory()" class="bg-green-600 text-white font-bold rounded">Ø­ÙØ¸ Ø§Ù„Ù‚Ø·Ø¹Ø© âœ…</button>
            </div>
        </div>

        <div class="bg-white rounded-xl shadow overflow-hidden">
            <table class="w-full text-right">
                <thead class="bg-gray-200">
                    <tr>
                        <th class="p-3">Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯</th>
                        <th class="p-3">Ø§Ø³Ù… Ø§Ù„Ù‚Ø·Ø¹Ø©</th>
                        <th class="p-3">Ø§Ù„ÙƒÙ…ÙŠØ©</th>
                        <th class="p-3">Ø´Ø±Ø§Ø¡</th>
                        <th class="p-3">Ù…ÙØ±Ù‚</th>
                        <th class="p-3">Ø­Ø°Ù</th>
                    </tr>
                </thead>
                <tbody id="inventory-list"></tbody>
            </table>
        </div>
    </div>

    <script src="auth.js"></script>
    <script>
        checkAuth();
        let inventory = JSON.parse(localStorage.getItem('inventory')) || [];

        function saveToInventory() {
            const item = {
                barcode: document.getElementById('inv-barcode').value.trim(),
                name: document.getElementById('inv-name').value.trim(),
                vendor: document.getElementById('inv-vendor').value,
                qty: parseInt(document.getElementById('inv-qty').value) || 0,
                cost: parseFloat(document.getElementById('inv-cost').value) || 0,
                retail: parseFloat(document.getElementById('inv-retail').value) || 0,
                wholesale: parseFloat(document.getElementById('inv-wholesale').value) || 0
            };

            if (!item.barcode || !item.name) { alert("Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯ ÙˆØ§Ù„Ø§Ø³Ù…!"); return; }

            inventory.push(item);
            localStorage.setItem('inventory', JSON.stringify(inventory));
            alert("ØªÙ… Ø§Ù„Ø­ÙØ¸!");
            renderInventory();
            document.querySelectorAll('input').forEach(i => i.value = "");
        }

        function renderInventory() {
            document.getElementById('inventory-list').innerHTML = inventory.map((item, index) => `
                <tr class="border-b">
                    <td class="p-3 font-mono">${item.barcode}</td>
                    <td class="p-3 font-bold">${item.name}</td>
                    <td class="p-3">${item.qty}</td>
                    <td class="p-3">${item.cost}$</td>
                    <td class="p-3 text-green-600 font-bold">${item.retail}$</td>
                    <td class="p-3"><button onclick="deleteItem(${index})" class="text-red-500">Ø­Ø°Ù</button></td>
                </tr>
            `).join('');
        }

        function deleteItem(index) {
            inventory.splice(index, 1);
            localStorage.setItem('inventory', JSON.stringify(inventory));
            renderInventory();
        }
        renderInventory();
    </script>
</body>
</html>
